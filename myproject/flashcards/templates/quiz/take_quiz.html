<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background-color: #c7eec1;
            padding: 40px;
            font-family: Arial, sans-serif;
        }

        .home-btn {
            background-color: #0f5f34;
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: 600;
            text-decoration: none;
            transition: 0.25s ease;
        }

        .home-btn:hover {
            background-color: #0c4d2b;
            transform: scale(1.05);
        }

        .card-wrapper {
            width: 500px;
            height: 250px;
            margin: 40px auto;
            perspective: 1200px;
        }

        .flashcard {
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 15px;
            border: 3px solid #0f5f34;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            position: relative;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }

        .flashcard.flip {
            transform: rotateY(180deg);
        }

        .front, .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            font-size: 26px;
            font-weight: bold;
            color: #0f3d20;
        }

        .back {
            transform: rotateY(180deg);
        }

        .quiz-btn {
            background-color: #0f5f34;
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: 600;
            border: none;
            transition: 0.25s ease;
        }

        .quiz-btn:hover {
            background-color: #0c4d2b;
            transform: scale(1.05);
        }

        .answer-box {
            width: 500px;
            margin: auto;
        }
    </style>

    <script>
        function flipCard() {
            document.getElementById("flashcard").classList.toggle("flip");
        }
    </script>

</head>
<body>

<div class="quiz-box">

    <div class="d-flex justify-content-between mb-3">
        <a href="{% url 'home' %}" class="btn-small">Home</a>
    </div>

    <div class="quiz-card
         {% if status == 'correct' %}correct{% elif status == 'inccorect' %}incorrect{% endif %}">

    <p class="question-text">
        {{ card.question }}
    </p>

    <div id="answer-box" class="answer-text" style="display: none;">
        <strong>Answer:</strong> {{ card.answer }}
    </div>

    <div class="mt-3 d-flex flex-wrap gap-2">

        <button type="button" class="btn-small"
                onlcick="document.getElementById('answer-box').style.display='block';">Flip Card</button>

        <form action="{% url 'quiz_skip' %}" method="post" class="d-inline">
            {% csrf_token %}
            <button type="submit" class="btn-small">Skip</button>
        </form>

        <form action="{% url 'quiz_stop' %}" method="post" class="d-inline">
            {% csrf_token %}
            <button type="submit" class="btn-small">Stop</button>
        </form>
    </div>

    <form method="post" class="mt-4">
        {% csrf_token %}
        <input type="hidden" name="card_id" value="{{ card.id }}">

        <label class="form-label fw-semibold">Your answer</label>
        <input type="text" name="answer" class="form-control" placeholder="Type your answer..." required>

        <button type="submit" class="btn-green mt-3">Submit Answer</button>
    </form>
    </div>
</div>
</body>
</html>